<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="./favicon.ico" >
	<title>doodoo</title>
	<style>
		body { 
			text-align: center; 
			background: radial-gradient(plum, lightblue);
		}
	</style>
</head>
<body>
	<button id="play">play doodoo</button>
	<button id="stop">stop doodoo</button>

	<script src="./build/lib/tone/build/Tone.js"></script>
	<script src="./build/doodoo.min.js"></script>
	<script>

		const { Doodoo } = doodooLib; // import lib

		document.getElementById('play').addEventListener('click', play);
		document.addEventListener('keydown', ev => {
			if (ev.key == 'Enter') play();
		});

		function play() {
			
			// garden, infinite hell
			const doodoo = new Doodoo({
				// tonic: 'C#4',
				// parts: [
				// 	'C4', null, 'E3', 'F3', 'G3', null, 'D3', 'E3', 
				// 	'D3', 'F3', 'E3', 'D3', 'F3', 'E3', 'D3', 'F3', 
				// ],
				tonic: 54,
				parts: ['C4', 'A3', 'G3', 'D4', 'E4', 'G4', 'A4', 'C5', 'C4', 'D5', 'C5', 'D5'],
				startDuration: '4n',
				samples: './samples/choir/', // -- add samples for sampler
				bpm: 112
			});


			// infinite hell 2
			// const doodoo = new Doodoo({
			// 	tonic: 'F#4',
			// 	scale: [-4, -2, 0, 1, 3, 5, 7],
			// 	startDuration: '8n',
			// 	samples: './samples/choir/',
			// 	bpm: 120,
			// 	parts: [[
			// 		['F#5', '2n'], [null, '4n'], [null, '8n'], ['C#5', '8n'],
			// 		['D5', '8n'], ['E5', '8n'], ['F#5', '8n'], ['D5', '8n'], 
			// 		['E5', '8n'], ['F#5', '8n'], ['A5', '8n'], ['E5', '8n'], 
			// 		['F#5', '8n'], ['G5', '8n'], ['B5', '8n'], [null, '8n'], 
			// 		['B5', '4n'], ['F#5', '4n'], ['D5', '4n'], ['B4', '4n'], 
			// 		['D4', '2n'], [null, '4n'], ['F#5', '4n'], ['D5', '4n'], 
			// 		['G4', '8n'], ['A4', '8n'], ['B4', '4n'], ['D5', '8n'], 
			// 		['D5', '8n'], ['F#4', '8n'], ['D4', '8n'], ['D4', '8n'], 
			// 		['D5', '8n'], ['F#4', '8n'], ['D4', '2n'],
			// 	]]
			// });

			// zoo
			// const doodoo = new Doodoo({
			// 	tonic: 'C#4', 
			// 	startDuration: '8n',
			// 	bpm: 138,
			// 	samples: './samples/choir/',
			// 	parts: [[
			// 		['C#6', '2n'], ['D#6', '2n'], 
			// 		[null, '2n'], [null, '8n'], ['A#5', '8n'], ['G#5', '8n'], [null, '8n'],
			// 		['C#6', '2n'], ['D#6', '2n'], 
			// 		['E6', '2n'], [null, '4n'], ['B5', '8n'], ['A5', '8n'],
			// 		['E6', '2n'], ['F#6', '2n'], 
			// 		['G#6', '2n'], [null, '4n'], ['C#7', '8n'], ['D#7', '8n'], 
			// 		['C#7', '4n'], [null, '8n'],  ['A#6', '4n'], ['G#6', '4n'], ['A#6', '8n'], 
			// 		['G#6', '4n'], ['A#6', '8n'], ['G#6', '8n'], ['A#6', '8n'], ['G#6', '4n'], [null, '8n']
			// 	]]			
			// });

			// debugging
			document.addEventListener('keydown', ev => {
				if (ev.key === 'a') doodoo.play();
				if (ev.key === 's') doodoo.stop();
				if (ev.key === 'd') doodoo.mutate();
				if (ev.key === 'p') doodoo.printLoops(); // debug
			});

			document.getElementById('stop').addEventListener('click', ev => {
				doodoo.stop();
			});
		}
	</script>
</body>
</html>

