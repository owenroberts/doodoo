<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="./favicon.ico" >
	<title>doodoo</title>
	<style>
		body { 
			text-align: center; 
			background: radial-gradient(plum, lightblue);
		}
	</style>
</head>
<body>
	<button id="play">play doodoo</button>
	<button id="stop">stop doodoo</button>

	<!--  ** remember to add tone/ and samples/  ** -->
	<!-- <script src="../dist/doodoo/tone/Tone.js"></script> -->
	<script src="./build/doodoo.min.js"></script>
	<script type="module">

		const { Doodoo } = doodooLib; // import lib

		document.getElementById('play').addEventListener('click', play);
		document.addEventListener('keydown', ev => {
			if (ev.key == 'Enter') play();
		});

		function play() {
			
			const doodoo = new Doodoo({
				tonic: 'C#4',
				parts: [
					'C4', null, 'E3', 'F3', 'G3', null, 'D3', 'E3', 
					'D3', 'F3', 'E3', 'D3', 'F3', 'E3', 'D3', 'F3', 
				],
				startDuration: '8n',
				// samples: '../dist/doodoo/samples/choir/'
			});
			doodoo.setBPM(112);

			// debugging
			document.addEventListener('keydown', ev => {
				if (ev.key === 'a') doodoo.play();
				if (ev.key === 's') doodoo.stop();
				if (ev.key === 'd') doodoo.mutate();
				if (ev.key === 'p') doodoo.printLoops(); // debug
			});

			document.getElementById('stop').addEventListener('click', ev => {
				doodoo.stop();
			});
		}
	</script>
</body>
</html>

