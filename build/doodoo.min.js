!function(){"use strict";let e={bamboo:{B3:"b3.ogg",G4:"g4.ogg"},piano:{A4:"A4.mp3",C4:"C4.mp3"},flute:{C5:"C5.wav"},guitar:{C4:"C4.wav"},strings:{"A#2":"Ash2.ogg",A5:"A5.ogg",C4:"C4.ogg",C7:"C7.ogg","D#2":"Dsh2.ogg",D5:"D5.ogg",E3:"E3.ogg",E6:"E6.ogg",G4:"G4.ogg"},toms:{"A#3":"Tom606_EQ_FADE.ogg"},crow_bass:{C4:"C4.wav"},choirA:{A2:"CH-AA-A2.mp3",A3:"CH-AA-A3.mp3",A4:"CH-AA-A4.mp3",B2:"CH-AA-B2.mp3",B3:"CH-AA-B3.mp3",B4:"CH-AA-B4.mp3",C2:"CH-AA-C2.mp3",C3:"CH-AA-C3.mp3",C4:"CH-AA-C4.mp3",C5:"CH-AA-C5.mp3",D2:"CH-AA-D2.mp3",D3:"CH-AA-D3.mp3",D4:"CH-AA-D4.mp3",E2:"CH-AA-E2.mp3",E3:"CH-AA-E3.mp3",E4:"CH-AA-E4.mp3",F2:"CH-AA-F2.mp3",F3:"CH-AA-F3.mp3",F4:"CH-AA-F4.mp3",G2:"CH-AA-G2.mp3",G3:"CH-AA-G3.mp3",G4:"CH-AA-G4.mp3"},choirE:{A2:"CH-EE-A2.mp3",A3:"CH-EE-A3.mp3",A4:"CH-EE-A4.mp3",B2:"CH-EE-B2.mp3",B3:"CH-EE-B3.mp3",B4:"CH-EE-B4.mp3",C2:"CH-EE-C2.mp3",C3:"CH-EE-C3.mp3",C4:"CH-EE-C4.mp3",C5:"CH-EE-C5.mp3",D2:"CH-EE-D2.mp3",D3:"CH-EE-D3.mp3",D4:"CH-EE-D4.mp3",E2:"CH-EE-E2.mp3",E3:"CH-EE-E3.mp3",E4:"CH-EE-E4.mp3",F2:"CH-EE-F2.mp3",F3:"CH-EE-F3.mp3",F4:"CH-EE-F4.mp3",G2:"CH-EE-G2.mp3",G3:"CH-EE-G3.mp3",G4:"CH-EE-G4.mp3"},choirI:{A2:"CH-II-A2.mp3",A3:"CH-II-A3.mp3",A4:"CH-II-A4.mp3",B2:"CH-II-B2.mp3",B3:"CH-II-B3.mp3",B4:"CH-II-B4.mp3",C2:"CH-II-C2.mp3",C3:"CH-II-C3.mp3",C4:"CH-II-C4.mp3",C5:"CH-II-C5.mp3",D2:"CH-II-D2.mp3",D3:"CH-II-D3.mp3",D4:"CH-II-D4.mp3",E2:"CH-II-E2.mp3",E3:"CH-II-E3.mp3",E4:"CH-II-E4.mp3",F2:"CH-II-F2.mp3",F3:"CH-II-F3.mp3",F4:"CH-II-F4.mp3",G2:"CH-II-G2.mp3",G3:"CH-II-G3.mp3",G4:"CH-II-G4.mp3"},choirO:{A2:"CH-OO-A2.mp3",A3:"CH-OO-A3.mp3",A4:"CH-OO-A4.mp3",B2:"CH-OO-B2.mp3",B3:"CH-OO-B3.mp3",B4:"CH-OO-B4.mp3",C2:"CH-OO-C2.mp3",C3:"CH-OO-C3.mp3",C4:"CH-OO-C4.mp3",C5:"CH-OO-C5.mp3",D2:"CH-OO-D2.mp3",D3:"CH-OO-D3.mp3",D4:"CH-OO-D4.mp3",E2:"CH-OO-E2.mp3",E3:"CH-OO-E3.mp3",E4:"CH-OO-E4.mp3",F2:"CH-OO-F2.mp3",F3:"CH-OO-F3.mp3",F4:"CH-OO-F4.mp3",G2:"CH-OO-G2.mp3",G3:"CH-OO-G3.mp3",G4:"CH-OO-G4.mp3"},choirU:{A2:"CH-UU-A2.mp3",A3:"CH-UU-A3.mp3",A4:"CH-UU-A4.mp3",B2:"CH-UU-B2.mp3",B3:"CH-UU-B3.mp3",B4:"CH-UU-B4.mp3",C2:"CH-UU-C2.mp3",C3:"CH-UU-C3.mp3",C4:"CH-UU-C4.mp3",C5:"CH-UU-C5.mp3",D2:"CH-UU-D2.mp3",D3:"CH-UU-D3.mp3",D4:"CH-UU-D4.mp3",E2:"CH-UU-E2.mp3",E3:"CH-UU-E3.mp3",E4:"CH-UU-E4.mp3",F2:"CH-UU-F2.mp3",F3:"CH-UU-F3.mp3",F4:"CH-UU-F4.mp3",G2:"CH-UU-G2.mp3",G3:"CH-UU-G3.mp3",G4:"CH-UU-G4.mp3"}};function t(e={},t){let a={};for(const t in e)a[t]=new i(e[t],t);return{update:function(e){for(const t in a)a[t].update(e)},get:function(e){let t={};for(const n in a)"type"!==n&&(t[n]=a[n].get(e));return t}}}function a(e){const t={reverb:e=>new Tone.Reverb(e.decay),distortion:e=>new Tone.Distortion(e.distortion),bitCrush:e=>new Tone.BitCrusher(e.bits),autoFilter:e=>new Tone.AutoFilter(e.frequency).start(),autoPanner:e=>new Tone.AutoPanner(e.frequency).start(),cheby:e=>new Tone.Chebyshev(Math.round(e.order)),chorus:e=>{const t=Math.round(e.frequency),a=e.delay,n=e.depth;return new Tone.Chorus(t,a,n).start()},feedback:e=>new Tone.FeedbackDelay(e.delay,e.feedback),phaser:e=>{const t=Math.floor(e.frequency),a=Math.floor(e.octaves),n=Math.floor(e.base);return new Tone.Phaser(t,a,n)},pingPong:e=>new Tone.PingPongDelay(e.delay,e.feedback),tremolo:e=>{const t=Math.floor(e.frequency),a=e.depth;return new Tone.Tremolo(t,a).start()},vibrato:e=>{const t=Math.floor(e.frequency),a=e.depth;return new Tone.Vibrato(t,a)}};return{get:function(e,a){return t[e](a)}}}window.Doodoo=function(t,l){let u="4n",p="string"==typeof t.tonic?t.tonic:o[t.tonic],s=t.transpose??p,i=t.useOctave??!1,h=t.scale??[0,2,4,5,7,9,11],C=t.sequence??[[!0]],d=t.volume??0,g=t.autoLoad??!0,f=t.autoStart??!0,y=!1,A=t.startLoops??[],H=t.useMeter??!1,E=(t.setMeter,t.useMetro??!1),D=t.withRecording??!1,x=t.withCount??!1,b=t.onLoop??!1,w=t.useDefaultProps??!0;const I=t.props?structuredClone(t.props):{};for(const e in DoodooProps.props)I.hasOwnProperty(e)||(I[e]=w?structuredClone(DoodooProps.props[e]):{});let O,U,F,k,G=[...new Set([...I.instruments.stack.flatMap((e=>e.list)).filter((e=>!e.includes("Synth"))),...A.flatMap((e=>e)).flatMap((e=>e)).filter((e=>e.instrument)).map((e=>e.instrument))])],T=0,B=0,M=!1,L=[],P=[],S=0,$=0,_=new a,q=[];t.parts.forEach((e=>{e.forEach((e=>{parseInt(e[1])>parseInt(u)&&(u=e[1])}))})),I.beatList.list.forEach((e=>{e>parseInt(u)&&(u=e)}));for(let e=0;e<t.parts.length;e++)L.push(new m(t.parts[e],I,u,n));async function R(){try{await Tone.start(),G.length>0?function(a){const n={};for(let t=0;t<G.length;t++){const a=G[t];if("choir"===a)"AEIOU".split("").forEach((t=>{const o=e["choir"+t];for(const e in o)n[`${a}-${t}-${e}`]=`${a}/${t}/${o[e]}`}));else for(const t in e[a])n[`${a}-${t}`]=`${a}/${e[a][t]}`}console.time(`load ${G.join(", ")}`),O=new Tone.ToneAudioBuffers({urls:n,baseUrl:t.samplesURL||"../samples/",onload:()=>{console.timeEnd(`load ${G.join(", ")}`),a&&a(),samplesLoaded=!0}})}(j):j()}catch(e){console.error("load tone error",e)}}function j(){l&&l(),U=new Tone.Loop(N,u),Tone.Transport.start(),t.bpm&&(Tone.Transport.bpm.value=t.bpm),U.start(Tone.Transport.seconds);var e=new Tone.Compressor({threshold:-30,ratio:3,attack:.5,release:.1});Tone.Master.chain(e),H&&(F=new Tone.Meter({channels:2}),Tone.Destination.connect(F),t.setMeter(F)),(f||y)&&Q(),E&&(metro=new Tone.MetalSynth({volume:-12,frequency:250,envelope:{attack:.01,decay:.01,release:.2},harmonicity:3.1,modulationIndex:32,resonance:4e3,octaves:1.5}).toDestination()),M=!0,D&&k.start()}function N(e){E&&metro.triggerAttackRelease("C4","4n",e,.1);for(let t=0;t<P.length;t++){const a=P[t];if(!(a.count>a.countEnd)){for(let t=0;t<a.beatCount;t++){if(a.count%1!=0)continue;const t=Math.floor(a.count)%a.melody.length,n=a.melody[t];if(null!==n[0]){let[t,o,l]=n;if(l||(l=1),a.double){o=2*parseInt(o)+"n";let n=Tone.Time(o).toSeconds();a.instrument.triggerAttackRelease(t,o,e,l),a.instrument.triggerAttackRelease(t,o,e+n,l)}else a.instrument.triggerAttackRelease(t,o,e,l)}}a.count+=1}}$++,$===S&&Q()}function Q(){$=0,function(){const e=[];for(let t=0;t<P.length;t++)e.push(P[t].instrument);for(let t=0;t<q.length;t++)e.push(q[t]);for(let t=0;t<e.length;t++){e[t];setTimeout((()=>{e[t].dispose()}),1e3)}P=[],q=[]}(),P=[];let e=L.filter(((e,t)=>C[t][T]));for(let t=0;t<e.length;t++){let a=e[t].get(),n=a.length;if(A[B]){for(;a.length<A[B].length;){const n=e[t].get();a=a.concat(n)}n=Math.min(A[B].length,a.length)}for(let e=0;e<n;e++){const n=a[e];if(A[B]&&A[B][e])for(const a in A[B][e])n[a]=A[t][e][a];const o={...n,melody:0===n.harmony?r(n.melody,p,s):c(n.melody,p,s,n.harmony,h,i),instrument:V(n.instrument,{...n,volume:d})};P.push(o)}}S=Math.max(0,Math.max(...P.map((e=>e.melody.length))));const a=Math.max(...P.flatMap((e=>e.melody.map((e=>parseInt(e[1]))))));U.interval=a+"n",e.forEach((e=>{e.update(B)})),t.onModulate&&t.onModulate(B),T++,T>=C[0].length&&(T=0),B++,"stopped"===Tone.Transport.state&&Tone.Transport.start(),x&&B>x*C[0].length&&(Tone.Transport.stop(),M=!1,k&&z()),b&&b(B)}function V(t,a){const n=t.includes("Synth")?function(e){return new Tone.FMSynth({volume:e.volume??-6,envelope:{attack:e.attack,attackCurve:e.curve,release:e.release,releaseCurve:e.curve}})}(a):function(t,a){const n=function(t){const a={};if("choir"===t){const n=B<3?"U":v("AEIOU".split(""));for(const o in e[t+n])a[o]=O.get(`${t}-${n}-${o}`)}else for(const n in e[t])a[n]=O.get(`${t}-${n}`);return a}(t);return new Tone.Sampler({urls:n,volume:a.volume??0,attack:a.attack,release:a.release,curve:a.curve})}(t,a);D?n.chain(Tone.Destination,k):n.toDestination();for(const e in a.fx){const t=_.get(e,a.fx[e]);D?t.chain(Tone.Destination,k):t.toDestination(),n.connect(t),q.push(t)}return n}async function z(){const e=await k.stop(),a=URL.createObjectURL(e),n=document.createElement("a"),o=prompt("Name clip",t.title||"Doodoo_"+(new Date).toDateString().replace(/ /g,"-"));n.download=o+".webm",n.href=a,n.click()}return D&&(k=new Tone.Recorder,x||(x=+prompt("Record number of modulations?",10))),g&&R(),{play:function(){if(!g)return R();!usesSamples||samplesLoaded?(Q(),U.start(Tone.Transport.seconds),M=!0,D&&k.start()):y=!0},stop:function(){Tone.Transport.stop(),U.stop(),M=!1,D&&"started"===k.state&&z()},isRecording:function(){return!!k&&("started"===k.state||"paused"===k.state)},modulate:function(){B++,L.forEach((e=>{e.update(B)}))},getLoops:()=>P,getStatusIsPlaying:()=>M,printLoops:()=>{console.log("loops",P)},printParams:()=>{console.log(L.map((e=>e.getParams())))}}};const n=!1,o=["C_1","C#_1","D_1","D#_1","E_1","F_1","F#_1","G_1","G#_1","A_1","A#_1","B_1","C0","C#0","D0","D#0","E0","F0","F#0","G0","G#0","A0","A#0","B0","C1","C#1","D1","D#1","E1","F1","F#1","G1","G#1","A1","A#1","B1","C2","C#2","D2","D#2","E2","F2","F#2","G2","G#2","A2","A#2","B2","C3","C#3","D3","D#3","E3","F3","F#3","G3","G#3","A3","A#3","B3","C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A4","A#4","B4","C5","C#5","D5","D#5","E5","F5","F#5","G5","G#5","A5","A#5","B5","C6","C#6","D6","D#6","E6","F6","F#6","G6","G#6","A6","A#6","B6","C7","C#7","D7","D#7","E7","F7","F#7","G7","G#7","A7","A#7","B7","C8","C#8","D8","D#8","E8","F8","F#8","G8","G#8","A8","A#8","B8","C9","C#9","D9","D#9","E9","F9","F#9","G9"],l=[12,83];function u(e){for(n&&(e<l[0]||e>l[1])&&console.log("** constrain **",e,l[0],l[1]);e<l[0];)e+=12;for(;e>l[1];)e-=12;return e}function r(e,t,a,n){return e.map((e=>{if(null===e[0])return e;{const n=e[0],l=o.indexOf(t)-o.indexOf(a),r=o.indexOf(n)-l;return e[0]=o[u(r)],e}}))}function c(e,t,a,n,l,r=!1){return e.map((e=>{if(null===e[0])return e;{const c=e[0],p=o.indexOf(c),m=o.indexOf(t),s=m-o.indexOf(a),i=12*(Math.floor(p/12)-Math.floor(m)/12),v=p-m,h=v<0?l.indexOf(12-Math.abs(v)%12):l.indexOf(v%12);let C=l[(h+n-1)%l.length];r&&(C+=12*Math.floor((h+n-1)/l.length)),-1===h&&(console.log("not in scale"),C=0);let d=12*Math.floor(Math.abs(v)/12)*Math.sign(v),g=o.indexOf(t)+C+d-s+i;return e[0]=o[u(g)],e}}))}function p(e,t,a){let n=new i(t.min??{value:0}),o=new i(t.max??{value:1}),l=new i(t.step??{value:1}),u=new i(t.kick??{value:0}),r=new i(t.chance??{value:.5}),c=new i(t.type??{value:"value"}),p=!(u.get()>0);function m(){e<n.get()&&(e=n.get()),e>o.get()&&(e=o.get())}return{update:function(t){if(!p){if(t<u.get())return;t>=u.get()&&(p=!0)}h(r.get())&&(n.update(t),o.update(t),"walk"===c.get()&&(e+=h(.5)?l.get():-l.get()),"walkUp"===c.get()&&(e+=l.get()),"walkDown"===c.get()&&(e-=l.get()),m())},get:function(){return"range"===c.get()&&p?v(n.get(),o.get()):(p&&m(),e)},set:function(t){e=t,m()}}}function m(e,a,n,o){let l={};for(const e in a)"bundle"===a[e]?.type?l[e]=new t(a[e],e):l[e]=new i(a[e],e);function u(t){return e.flatMap((e=>{let[a,o]=e,u=t/4*parseInt(o),r=parseInt(n)/u,c=h(l.rest.get())?null:a;h(l.playBeatChance.get())&&(console.log("play beat"),u=l.playBeatList.get());let p=[[c,u+"n",l.velocityStep.get()]];l.velocityStep.update();for(let e=1;e<r;e++)p.push([null,n,l.velocityStep.get()]),l.velocityStep.update();return p}))}return{get:function(){const e=[],t=l.loopNum.getInt(),o=[...Array(t)].map((()=>l.beatList.get())),r=Math.min(...o);for(let c=0;c<t;c++){l.velocityStep.set(l.velocityStart.get());let t=u(o[c]);const p=[...t];for(let e=1;e<o[c]/r;e++)t=t.concat([...p]);let m=l.startIndex.getInt();if(m>0){for(;null===t[m][0];)m++,m>=t.length&&(m=0);t=t.slice(m).concat(t.slice(0,m))}const s=c>0?l.startDelay.getInt():0;for(let e=0;e<s;e++)t.unshift([null,n]);const i={};let v=0;for(;Object.keys(i).length<l.fxLimit.get()&&v<a.fxList.list.length;){const e=l.fxList.get();l[e]&&h(l[e].get().chance)&&(i[e]=l[e].get()),v++}h(l.reverb.get().chance)&&(i.reverb=l.reverb.get()),e.push({melody:t,count:0,countEnd:t.length-1,beatCount:1,harmony:h(l.harmonyChance.get())?l.harmonyList.get():0,instrument:l.instruments.get(c),attack:l.attack.get(),curve:l.curve.get(),release:l.release.get(),double:h(l.doubleChance.get()),fx:i})}return e},update:function(t){for(const e in l)l[e].update(t);if(h(l.sliceChance.get())){let t=function(e,t){t||(t=e,e=0);return Math.round(Math.random()*(t-e)+e)}(e.length),a=e.slice(t,t+l.sliceLength.getInt());e.push(...a)}h(l.shiftChance.get())&&e.length>l.shiftLength.get()&&e.shift()},getParams:function(){const e={};for(const t in l)e[t]=l[t].get();return e}}}window.DoodooMidi={MIDI_NOTES:o};const s={instruments:{stack:[{list:["choir"]}],options:["choir","fmSynth",...Object.keys(e)]},loopNum:{value:1,step:1,mod:{type:{value:"range"},min:{value:1,chance:1,mod:{min:{value:1},max:{value:3},type:{value:"walkUp"},chance:{value:.5}}},max:{value:1,mod:{min:{value:1},max:{value:5},type:{value:"walkUp"},chance:{value:.5}}}}},harmonyChance:{value:0,step:.01,mod:{min:{value:.5},max:{value:.5},kick:{value:1},chance:{value:1}}},harmonyList:{list:[4,5,3,7,2,6],index:0,mod:{type:{value:"range"},min:{value:0},max:{value:0,mod:{min:{value:0},max:{value:5},step:{value:1},type:{value:"walkUp"}}}}},beatList:{list:[4,2,1,8,16],index:0,mod:{type:{value:"range"},chance:{value:1},min:{value:0},max:{value:0,mod:{max:{value:6},chance:{value:.3},type:{value:"walkUp"}}}}},playBeatChance:{type:"chance",value:.5},playBeatList:{list:[4,16,8,4,2,1],index:0,mod:{type:{value:"range"},chance:{value:1},min:{value:0},max:{value:0,mod:{max:{value:6},chance:{value:.3},type:{value:"walkUp"}}}}},startIndex:{value:0,mod:{max:{value:0,mod:{min:{value:0},max:{value:8},chance:{value:.3},type:{value:"walkUp"}}},type:{value:"range"},chance:{value:1}}},startDelay:{list:[0,1,2,4,8,3,5,7],index:6,mod:{min:{value:0},type:{value:"range"},chance:{value:1},max:{value:6,mod:{max:{value:12},chance:{value:.3},type:{value:"walkUp"}}}}},sliceChance:{value:.1,step:.05},sliceLength:{value:1,mod:{type:{value:"range"},min:{value:1},max:{value:3,mod:{max:{value:8},type:{type:"walkUp"}}}}},shiftChance:{value:.2,step:.05},shiftLength:{value:16,mod:{min:{value:16,mod:{min:{value:8},max:{value:16},type:{value:"walkDown"}}},max:{value:32},type:{value:"range"}}},doubleChance:{value:.1,step:.05},velocityStart:{value:.75,step:.05,mod:{min:{value:.25},max:{value:.85},type:{value:"range"}}},velocityStep:{value:.5,step:.01,mod:{min:{value:.1},max:{value:1},chance:{value:.66},type:{value:"walk"},step:{value:.01,mod:{min:{value:.01},max:{value:.1},type:{value:"range"},chance:{value:.2}}}}},attack:{value:.1,step:.05,mod:{type:{value:"range"},min:{value:.1},max:{value:.5}}},curve:{list:["linear","exponential","sine","cosine","bounce","ripple","step"],index:0,mod:{chance:{value:.1},min:{value:0},max:{value:0,mod:{min:{value:0},max:{value:6},type:{value:"walkUp"},chance:{value:.25}}},type:{value:"range"}}},release:{value:.5,step:.05,mod:{type:{value:"range"},min:{value:.1},max:{value:.5}}},rest:{value:0,step:.05,type:"chance",mod:{min:{value:0,type:"chance",step:.05},max:{value:.25,type:"chance",step:.05},type:{value:"range"},kick:{value:2}}},fxLimit:{value:0,mod:{min:{value:1},max:{value:1},step:{value:1},kick:{value:4},chance:{value:1}}},fxList:{list:["distortion","bitCrush","autoFilter","autoPanner","cheby","chorus","feedback","phaser","pingPong","tremolo","vibrato"],index:0,mod:{type:{value:"range"},min:{value:0},max:{value:10}}},reverb:{type:"bundle",chance:{value:1},decay:{value:5,step:.1,range:[.5,32]}},distortion:{type:"bundle",chance:{value:.25,type:"chance"},distortion:{value:.1,step:.01,mod:{min:{value:.05},max:{value:.2},type:{value:"range"}}}},bitCrush:{type:"bundle",chance:{value:.25,type:"chance"},bits:{list:[3,4,6,8,12,16],mod:{min:{value:0},max:{value:5},type:{value:"range"},chance:{value:1}}}},autoFilter:{type:"bundle",chance:{value:.25,type:"chance"},frequency:{list:["2n","4n","8n","16n","32n"],mod:{min:{value:0},max:{value:4},type:{value:"range"},chance:{value:1}}}},autoPanner:{type:"bundle",chance:{value:.25,type:"chance"},frequency:{list:["2n","4n","8n","16n","32n"],mod:{min:{value:0},max:{value:4},type:{value:"range"},chance:{value:1}}}},cheby:{type:"bundle",chance:{value:.25,type:"chance"},order:{value:16,mod:{min:{value:0},max:{value:100},type:{value:"range"},chance:{value:1}}}},chorus:{type:"bundle",chance:{value:.25,type:"chance"},frequency:{value:4,mod:{min:{value:1},max:{value:12},type:{value:"range"},chance:{value:1}}},delay:{value:2.5,mod:{min:{value:.1},max:{value:12},step:{value:.1},type:{value:"range"},chance:{value:1}}},depth:{value:.5,mod:{min:{value:0},max:{value:1},type:{value:"range"},chance:{value:1}}}},feedback:{type:"bundle",chance:{value:.25,type:"chance"},feedback:{value:.25,mod:{min:{value:.1},max:{value:.5},step:{value:.01},type:{value:"range"},chance:{value:1}}},delay:{list:["8n","4n","16n","32n"],mod:{min:{value:0},max:{value:3},type:{value:"range"},chance:{value:1}}}},phaser:{type:"bundle",chance:{value:.25,type:"chance"},frequency:{value:15,mod:{min:{value:0},max:{value:32},type:{value:"range"},chance:{value:1}}},octaves:{value:5,mod:{min:{value:1},max:{value:16},type:{value:"range"},chance:{value:1}}},base:{value:1e3,mod:{min:{value:0},max:{value:1e4},type:{value:"range"},chance:{value:1}}}},pingPong:{type:"bundle",chance:{value:.25,type:"chance"},feedback:{value:.25,mod:{min:{value:.1},max:{value:1},step:{value:.01},type:{value:"range"},chance:{value:1}}},delay:{list:["1n","2n","4n","8n","16n","32n","2t","4t","8t","16t","32t"],mod:{min:{value:0},max:{value:10},type:{value:"range"},chance:{value:1}}}},tremolo:{type:"bundle",chance:{value:.25,type:"chance"},frequency:{value:9,mod:{min:{value:1},max:{value:18},type:{value:"range"},chance:{value:1}}},depth:{value:.25,mod:{min:{value:.1},max:{value:1},step:{value:.05},type:{value:"range"},chance:{value:1}}}},vibrato:{type:"bundle",chance:{value:.25,type:"chance"},frequency:{value:9,mod:{min:{value:1},max:{value:18},type:{value:"range"},chance:{value:1}}},depth:{value:.25,mod:{min:{value:.1},max:{value:1},step:{value:.05},type:{value:"range"},chance:{value:1}}}}};function i(e={},t){let a=e.hasOwnProperty("list")?"list":"value";e.hasOwnProperty("stack")&&(a="stack");let n,o=e.value??0,l=e.index??0,u=e.list??[],r=e.stack??[],c=!1;function m(e){if("stack"===a){let t;return t=e<r.length?v(r[e].list):v(r.flatMap((e=>e.list))),t}if("list"===a){let e=c?Math.round(n.get()):l;return u[Math.min(u.length-1,e)]}return c?n.get():o}return e.mod&&(c=!0,n=new p("value"===a?o:l,e.mod,t)),{update:function(e){c&&n.update(e)},get:m,set:function(e){o=e,n&&n.set(o)},getInt:function(){return Math.floor(m())}}}function v(e,t){return t?Math.random()*(t-e)+e:"number"==typeof e?Math.random()*e:Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:"object"==typeof e?e[v(Object.keys(e))]:void 0}function h(e){return v(1)<e}window.DoodooProps={props:s}}();
//# sourceMappingURL=src_maps/doodoo.min.js.map
