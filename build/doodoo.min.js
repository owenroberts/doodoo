!function(){"use strict";let e=[{key:"voiceAttack",type:"range",value:[.1,.5,0,0],range:[0,1],step:.1},{key:"voiceAttackCurve",type:"list",value:["linear","exponential","sine","cosine","bounce","ripple","step"]},{key:"voiceAttackCurveIndex",type:"number",value:1},{key:"voiceAttackCurveUpdateChance",type:"chance",value:.1},{key:"attackStart",type:"range",value:[.25,.7],range:[0,1],step:.05},{key:"attackStep",type:"walker",value:[.5,.01,.75,.1,1,0],step:.01},{key:"restChance",type:"range",value:[0,0,0,0],range:[0,1],step:.01},{key:"loopNums",type:"range",value:[1,1,.1,.2],range:[1,32],step:1},{key:"harmonyChance",type:"walker",value:[.6,.01,.5,0,1,0],range:[0,1],step:.01},{key:"harmonyList",type:"list",value:[4,5,2,3,6,7]},{key:"harmonyIndex",type:"number",value:2},{key:"harmonyUpdateChance",type:"chance",value:.2},{key:"startIndexes",type:"range",value:[0,0,0,.3],range:[0,0],step:1},{key:"indexStep",type:"walker",value:[0,.1,.75,0,8,0],step:.1},{key:"durationList",type:"list",value:[2,4,1,8,16,32]},{key:"durationIndex",type:"number",value:2},{key:"durationChance",type:"chance",value:.3},{key:"startDelayList",type:"list",value:[0,1,2,4,.5,8,12,16,3,5,7,11]},{key:"startDelayIndex",type:"number",value:6},{key:"startDelayChance",type:"chance",value:.3},{key:"voiceList",type:"list",value:[]},{key:"voiceIndex",type:"number",value:0},{key:"voiceChance",type:"chance",value:.1},{key:"sliceChance",type:"chance",value:.1},{key:"sliceLength",type:"range",value:[1,3,0,0],range:[1,8]},{key:"shiftChance",type:"chance",value:.2},{key:"shiftLength",type:"number",value:16,range:[0,32]},{key:"doublerChance",type:"chance",value:.5},{key:"repeat",type:"list",value:[2,3,4]},{key:"startLoops",type:"loops",value:[[{}]]},{key:"fxLimit",type:"number",value:1,range:[0,16]},{key:"fxKickIn",type:"number",value:8,range:[0,64]},{key:"reverbChance",type:"chance",value:1},{key:"reverbDecay",type:"number",value:5,range:[.5,32],step:.1},{key:"distortionChance",type:"chance",value:.25},{key:"distortion",type:"range",value:[.05,.2],range:[.01,1],step:.01},{key:"bitCrushChance",type:"chance",value:.25},{key:"bitCrushBits",type:"list",value:[3,4,6,8,12,16]},{key:"autoFilterChance",type:"chance",value:.25},{key:"autoFilterFrequency",type:"list",value:["2n","4n","8n","16n","32n"]},{key:"autoPannerChance",type:"chance",value:.25},{key:"autoPannerFrequency",type:"list",value:["2n","4n","8n","16n","32n"]},{key:"chebyChance",type:"chance",value:.25},{key:"chebyOrder",type:"number",value:16,range:[1,100]},{key:"chorusChance",type:"chance",value:.25},{key:"chorusFrequency",type:"number",value:4,range:[1,12]},{key:"chorusDelayTime",type:"number",value:2.5,range:[.1,12],step:.1},{key:"chorusDepth",type:"number",value:.5,range:[0,1]},{key:"feedbackChance",type:"chance",value:.25},{key:"feedbackDelayTime",type:"list",value:["8n","4n","16n","32n"]},{key:"feedback",type:"number",value:.25,range:[.1,1],step:.01},{key:"phaserChance",type:"chance",value:.25},{key:"phaserFrequency",type:"number",value:15,range:[0,32]},{key:"phaserOctaves",type:"number",value:5,range:[1,16]},{key:"phaserBaseFrequency",type:"number",value:1e3,range:[1,1e4]},{key:"pingPongChance",type:"chance",value:.25},{key:"pingPongDelayTime",type:"list",value:["1n","2n","4n","8n","16n","32n","2t","4t","8t","16t","32t"]},{key:"pingPongFeedback",type:"number",value:.25,range:[0,1],step:.01},{key:"tremoloChance",type:"chance",value:.25},{key:"tremoloFrequency",type:"range",value:[9,9],range:[1,18],step:1},{key:"tremoloDepth",type:"range",value:[.1,.5],range:[0,1],step:.05},{key:"vibratoChance",type:"chance",value:.25},{key:"vibratoFrequency",type:"range",value:[9,9],range:[1,18],step:1},{key:"vibratoDepth",type:"range",value:[.1,.5],range:[0,1],step:.05}],t={};function n(e){const t={distortion:()=>{const t=u(...e.distortion);return new Tone.Distortion(t)},bitCrush:()=>{const t=u(e.bitCrushBits);return new Tone.BitCrusher(t)},autoFilter:()=>{const t=u(e.autoFilterFrequency);return new Tone.AutoFilter(t).start()},autoPanner:()=>{const t=u(e.autoPannerFrequency);return new Tone.AutoPanner(t).start()},cheby:()=>{const t=i(e.chebyOrder);return new Tone.Chebyshev(t)},chorus:()=>{const t=i(e.chorusFrequency),n=u(e.chorusDelayTime),a=u(e.chorusDepth);return new Tone.Chorus(t,n,a).start()},feedback:()=>{const t=u(e.feedback),n=u(e.feedbackDelayTime);return new Tone.FeedbackDelay(n,t)},phaser:()=>{const t=i(e.phaserFrequency),n=i(e.phaserOctaves),a=i(e.phaserBaseFrequency);return new Tone.Phaser(t,n,a)},tremolo:()=>{const t=i(...e.tremoloFrequency),n=u(...e.tremoloDepth);return new Tone.Tremolo(t,n).start()},pingPong:()=>{const t=u(e.pingPongDelayTime),n=u(e.pingPongFeedback);return new Tone.PingPongDelay(t,n)},vibrato:()=>{const t=i(...e.vibratoFrequency),n=u(e.vibratoDepth);return new Tone.Vibrato(t,n)}};function n(t,n,a){return m(e[t+"Chance"])&&n>=a}return{get:function(a,o){let r=[];if(n("reverb",a,0)){const t=new Tone.Reverb({decay:"toms"===o?.5:e.reverbDecay});r.push(t)}let c=Object.keys(t).filter((t=>n(t,a,e.fxKickIn)));return c=l(c).slice(0,e.fxLimit).map((e=>t[e]())),[...r,...c]}}}e.forEach((e=>{const{key:n,value:a,type:o}=e;switch(o){case"range":case"chance":case"number":case"loops":case"walker":t[n]=a;break;case"list":t[n]=e.shuffle?l(a):a}})),window.DoodooControls={defaults:t,controls:e},window.Doodoo=function(e,o){let r,i=e.debug,l=!1,y=e.duration??"4n",h=e.scale??[0,2,4,5,7,9,11],d=e.autoStart??!0,f=e.autoLoad??!0,v=e.useOctave??!1,A=e.sequence??[[!0]],k=e.voices??[e.samples],H=e.stacking??[];if(e.controls){e.controls.voiceList&&e.controls.voiceList.filter((e=>!k.includes(e))).forEach((e=>{e&&k.push(e)}));let t=e.controls.startLoops.flatMap((e=>e.flatMap((e=>e.voice)))).filter((e=>!k.includes(e)));t.length>0&&t.forEach((e=>{e&&k.push(e)}))}0===k.length&&k.push("FMSynth");let E,D=e.withRecording,b=e.withCount;D&&(E=new Tone.Recorder,b||(b=+prompt("Record number of mutations?",10)));let F="string"==typeof e.tonic?e.tonic:a[e.tonic];e.transform||(e.transform=e.tonic);let I="string"==typeof e.transform?e.transform:a[e.transform],O={...t,...e.controls},w=new n(O),T=[];if("string"==typeof e.parts[0]){const t=e.parts.map((e=>[e,y]));T.push(new p(t,O,y,i))}else if("number"==typeof e.parts[0]){const t=e.parts.map((e=>[a[e],y]));T.push(new p(t,O,y,i))}else if(Array.isArray(e.parts[0]))if(Array.isArray(e.parts[0][0]))for(let t=0;t<e.parts.length;t++){const n=e.parts[t];T.push(new p(n,O,y,i));const a=e.parts[t].map((e=>parseInt(e[1])));y=Math.max(...a)+"n"}else{const t=e.parts;T.push(new p(t,O,y,i));const n=e.parts.map((e=>parseInt(e[1])));y=Math.max(...n)+"n"}let U,G=0,B=0,M=[],x=0,L=0;const R=e.useMetro;let S,P=k.some((e=>!e.includes("Synth"))),$=!1,q=!1;async function _(){try{await Tone.start(),P?function(t){let n=function(){let e={};return k.forEach((t=>{if("choir"===t)"AEIOU".split("").forEach((n=>{const a=C["choir"+n];for(const o in a)e[`${t}-${n}-${o}`]=`${t}/${n}/${a[o]}`}));else for(const n in C[t])e[`${t}-${n}`]=`${t}/${C[t][n]}`})),e}();console.time(`load ${k.join(", ")}`),r=new Tone.ToneAudioBuffers({urls:n,baseUrl:e.samplesURL||"../samples/",onload:()=>{console.timeEnd(`load ${k.join(", ")}`),t&&t(),$=!0}})}(j):j()}catch(e){console.error("load tone error",e)}}function j(){o&&o(),U=new Tone.Loop(K,y),Tone.Transport.start(),e.bpm&&(Tone.Transport.bpm.value=e.bpm),U.start(Tone.Transport.seconds),(d||q)&&N(),R&&(S=new Tone.MetalSynth({volume:-12,frequency:250,envelope:{attack:.01,decay:.01,release:.2},harmonicity:3.1,modulationIndex:32,resonance:4e3,octaves:1.5}).toDestination()),l=!0,D&&E.start()}function N(){L=0,M=[];let t=T.filter(((e,t)=>A[t][G]));for(let e=0;e<t.length;e++){const n=t[e].getLoops();for(let e=0;e<n.length;e++){const t=n[e];let a=H[e]?u(H[e]):t.voice??u(k);const o={...t,melody:0===t.harmony?c(t.melody,F,I):s(t.melody,F,I,t.harmony,h,v),voice:Q(a,t)};M.push(o)}}x=Math.max(0,Math.max(...M.map((e=>e.melody.length))));const n=Math.max(...M.flatMap((e=>e.melody.map((e=>e[1].slice(0,-1))))));U.interval=n+"n";let a=t.map((e=>e.update()))[0];e.onMutate&&e.onMutate(a),G++,G>=A[0].length&&(G=0),B++,"stopped"===Tone.Transport.state&&Tone.Transport.start(),b&&B>b*A[0].length&&(Tone.Transport.stop(),l=!1,E&&V())}function K(e){R&&S.triggerAttackRelease("C4","4n",e,.1);for(let t=0;t<M.length;t++){const n=M[t],a=new g(...O.attackStep);if(a.set(n.attack),!(n.count>n.countEnd)){for(let t=0;t<n.beatCount;t++){if(n.count<n.startDelay)continue;if(n.count%1!=0&&!n.doubler)continue;if(m(n.restChance))continue;const o=n.melody[Math.floor(n.count-n.startDelay+n.startIndex)%n.melody.length];if(null!==o[0]){const[r,c]=o;let s=t*Tone.Time(2*+c.slice(0,-1)+"n").toSeconds();n.voice.triggerAttackRelease(r,c,e+s,a.get())}}n.count+=1,a.update()}}L++,L===x&&N()}function Q(e,t){const n=e.includes("Synth")?function(e){return new Tone.FMSynth({volume:e.volume||-12,envelope:{attack:e.voiceAttack,attackCurve:e.voiceAttackCurve}})}(t):function(e,t){const n=function(e){const t={};if("choir"===e){const n=B<3?"U":u("AEIOU".split(""));for(const a in C[e+n])t[a]=r.get(`${e}-${n}-${a}`)}else for(const n in C[e])t[n]=r.get(`${e}-${n}`);return t}(e),a=["toms"].includes(e)?t.voiceAttack/4:t.voiceAttack;return new Tone.Sampler({urls:n,volume:t.volume||0,release:1,attack:a,curve:t.voiceAttackCurve})}(e,t);return D?n.chain(Tone.Destination,E):n.toDestination(),w.get(B,e).forEach((e=>{D?e.chain(Tone.Destination,E):e.toDestination(),n.connect(e)})),n}async function V(){const t=await E.stop(),n=URL.createObjectURL(t),a=document.createElement("a"),o=prompt("Name clip",e.title||"Doodoo_"+(new Date).toDateString().replace(/ /g,"-"));a.download=o+".webm",a.href=n,a.click()}return f&&_(),{play:function(){if(!f)return _();!P||$?(N(),U.start(Tone.Transport.seconds),l=!0,D&&E.start()):q=!0},stop:function(){Tone.Transport.stop(),U.stop(),l=!1,D&&"started"===E.state&&V()},mutate:function(){T.forEach((e=>{e.update()}))},moveTonic:function(e){let t=a.indexOf(I)+e;I=a[t]},setTonic:function(e){I=e},moveBPM:function(e){let t=Tone.Transport.bpm.value;Tone.Transport.bpm.value=t+e},setBPM:function(e){Tone.Transport.bpm.value=e},getIsPlaying:function(){return l},isRecording:function(){return!!E&&("started"===E.state||"paused"===E.state)},printLoops:function(){console.log("loops",M)},getLoops:function(){return M},printParams:function(){console.log(T.map((e=>e.getParams())))}}};const a=["C_1","C#_1","D_1","D#_1","E_1","F_1","F#_1","G_1","G#_1","A_1","A#_1","B_1","C0","C#0","D0","D#0","E0","F0","F#0","G0","G#0","A0","A#0","B0","C1","C#1","D1","D#1","E1","F1","F#1","G1","G#1","A1","A#1","B1","C2","C#2","D2","D#2","E2","F2","F#2","G2","G#2","A2","A#2","B2","C3","C#3","D3","D#3","E3","F3","F#3","G3","G#3","A3","A#3","B3","C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A4","A#4","B4","C5","C#5","D5","D#5","E5","F5","F#5","G5","G#5","A5","A#5","B5","C6","C#6","D6","D#6","E6","F6","F#6","G6","G#6","A6","A#6","B6","C7","C#7","D7","D#7","E7","F7","F#7","G7","G#7","A7","A#7","B7","C8","C#8","D8","D#8","E8","F8","F#8","G8","G#8","A8","A#8","B8","C9","C#9","D9","D#9","E9","F9","F#9","G9"],o=[12,83];function r(e){for(false;e<o[0];)e+=12;for(;e>o[1];)e-=12;return e}function c(e,t,n,o){return e.map((e=>{if(null===e[0])return e;{const[o,c]=e,s=a.indexOf(t)-a.indexOf(n),p=a.indexOf(o)-s;return[a[r(p)],c]}}))}function s(e,t,n,o,c,s=!1){return e.map((e=>{if(null===e[0])return e;{const[p,u]=e,i=a.indexOf(p),l=a.indexOf(t),m=l-a.indexOf(n),C=12*(Math.floor(i/12)-Math.floor(l)/12),y=i-l,h=y<0?c.indexOf(12-Math.abs(y)%12):c.indexOf(y%12);let g=c[(h+o-1)%c.length];s&&(g+=12*Math.floor((h+o-1)/c.length)),-1===h&&(console.log("not in scale"),g=0);let d=12*Math.floor(Math.abs(y)/12)*Math.sign(y),f=a.indexOf(t)+g+d-m+C;return[a[r(f)],u]}}))}function p(e,t,n,a){let o=0;const r=+n.slice(0,-1),c=new h(...t.attackStart),s=new h(...t.restChance),p=new h(...t.loopNums),l=new y(t.harmonyList,t.harmonyIndex,t.harmonyUpdateChance),C=new h(...t.startIndexes),d=new y(t.durationList,t.durationIndex,t.durationChance),f=new y(t.startDelayList,t.startDelayIndex,t.startDelayChance),v=new g(...t.harmonyChance),A=new h(...t.sliceLength),k=new y(t.voiceList,t.voiceIndex,t.voiceChance),H=new h(...t.voiceAttack),E=new y(t.voiceAttackCurve,t.voiceAttackCurveIndex,t.voiceAttackCurveUpdateChance),D=I(e,r),b={noteDuration:4,count:0,counter:1,repeat:1,startIndex:0,startDelay:0,harmony:0,melody:D,countEnd:D.length-1,beatCount:1,attack:.5,restChance:0,voiceAttack:.1,voiceAttackCurve:"linear"},F=t.startLoops.map((e=>e.map((e=>({...b,...e})))));function I(e,t){return e.flatMap((e=>{let[n,a]=e;a=+a.slice(0,-1);let o=t/a,c=[[n,a+"n"]];for(let e=1;e<o;e++)c.push([null,r+"n"]);return c}))}return{update:function(){return function(){if(p.update(),l.update(),C.update(),d.update(),f.update(),v.update(),k.update(),E.update(),m(t.sliceChance)){let t=i(e.length),n=e.slice(t,t+A.getRandInt());e.push(...n)}m(t.shiftChance)&&e.length>t.shiftLength&&e.shift(),o++,a&&console.log(`${o} mutations`)}(),o},getLoops:function(n,a){if(F[o])return F[o];const r=[],i=p.getRandInt(),y=new g(...t.indexStep);y.set(C.getRandInt());let h=0;for(let n=0;n<i;n++){const n=d.getRandom();let a=I(e);const o=n>9?u(t.repeat):1;r.push({noteDuration:n,count:0,beatCount:n<32&&m(t.doublerChance)?2:1,countEnd:(a.length-1)*o+h,repeat:o,startIndex:y.get(),startDelay:h,melody:a,harmony:m(v.get())?l.getRandom():0,attack:c.getRandom(),restChance:s.getRandom(),voice:k.getRandom(),voiceAttack:H.getRandom(),voiceAttackCurve:E.getRandom()}),y.update(),h=f.getRandom()}return r},getParams:function(){return{loopNums:p.getRange(),durationList:d.getSlice(),startIndexes:C.getRange(),startDelayList:f.getSlice(),harmonyList:l.getSlice(),harmonyChance:v.get(),attackStart:c.getRange(),restChance:s.getRange(),voiceList:k.getSlice(),voiceAttack:H.getRange(),voiceCurve:E.getSlice()}}}}function u(e,t){return t?Math.random()*(t-e)+e:"number"==typeof e?Math.random()*e:Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:"object"==typeof e?e[u(Object.keys(e))]:void 0}function i(e,t){return t||(t=e,e=0),Math.round(Math.random()*(t-e)+e)}function l(e){let t,n,a=e.length;for(;0!==a;)n=Math.floor(Math.random()*a),a-=1,t=e[a],e[a]=e[n],e[n]=t;return e}function m(e){return u(1)<e}window.DoodooMidi={MIDI_NOTES:a};let C={bamboo:{B3:"b3.ogg",G4:"g4.ogg"},piano:{A4:"A4.mp3",C4:"C4.mp3"},flute:{C5:"C5.wav"},guitar:{C4:"C4.wav"},strings:{"A#2":"Ash2.ogg",A5:"A5.ogg",C4:"C4.ogg",C7:"C7.ogg","D#2":"Dsh2.ogg",D5:"D5.ogg",E3:"E3.ogg",E6:"E6.ogg",G4:"G4.ogg"},toms:{"A#3":"Tom606_EQ_FADE.ogg"},choirA:{A2:"CH-AA-A2.mp3",A3:"CH-AA-A3.mp3",A4:"CH-AA-A4.mp3",B2:"CH-AA-B2.mp3",B3:"CH-AA-B3.mp3",B4:"CH-AA-B4.mp3",C2:"CH-AA-C2.mp3",C3:"CH-AA-C3.mp3",C4:"CH-AA-C4.mp3",C5:"CH-AA-C5.mp3",D2:"CH-AA-D2.mp3",D3:"CH-AA-D3.mp3",D4:"CH-AA-D4.mp3",E2:"CH-AA-E2.mp3",E3:"CH-AA-E3.mp3",E4:"CH-AA-E4.mp3",F2:"CH-AA-F2.mp3",F3:"CH-AA-F3.mp3",F4:"CH-AA-F4.mp3",G2:"CH-AA-G2.mp3",G3:"CH-AA-G3.mp3",G4:"CH-AA-G4.mp3"},choirE:{A2:"CH-EE-A2.mp3",A3:"CH-EE-A3.mp3",A4:"CH-EE-A4.mp3",B2:"CH-EE-B2.mp3",B3:"CH-EE-B3.mp3",B4:"CH-EE-B4.mp3",C2:"CH-EE-C2.mp3",C3:"CH-EE-C3.mp3",C4:"CH-EE-C4.mp3",C5:"CH-EE-C5.mp3",D2:"CH-EE-D2.mp3",D3:"CH-EE-D3.mp3",D4:"CH-EE-D4.mp3",E2:"CH-EE-E2.mp3",E3:"CH-EE-E3.mp3",E4:"CH-EE-E4.mp3",F2:"CH-EE-F2.mp3",F3:"CH-EE-F3.mp3",F4:"CH-EE-F4.mp3",G2:"CH-EE-G2.mp3",G3:"CH-EE-G3.mp3",G4:"CH-EE-G4.mp3"},choirI:{A2:"CH-II-A2.mp3",A3:"CH-II-A3.mp3",A4:"CH-II-A4.mp3",B2:"CH-II-B2.mp3",B3:"CH-II-B3.mp3",B4:"CH-II-B4.mp3",C2:"CH-II-C2.mp3",C3:"CH-II-C3.mp3",C4:"CH-II-C4.mp3",C5:"CH-II-C5.mp3",D2:"CH-II-D2.mp3",D3:"CH-II-D3.mp3",D4:"CH-II-D4.mp3",E2:"CH-II-E2.mp3",E3:"CH-II-E3.mp3",E4:"CH-II-E4.mp3",F2:"CH-II-F2.mp3",F3:"CH-II-F3.mp3",F4:"CH-II-F4.mp3",G2:"CH-II-G2.mp3",G3:"CH-II-G3.mp3",G4:"CH-II-G4.mp3"},choirO:{A2:"CH-OO-A2.mp3",A3:"CH-OO-A3.mp3",A4:"CH-OO-A4.mp3",B2:"CH-OO-B2.mp3",B3:"CH-OO-B3.mp3",B4:"CH-OO-B4.mp3",C2:"CH-OO-C2.mp3",C3:"CH-OO-C3.mp3",C4:"CH-OO-C4.mp3",C5:"CH-OO-C5.mp3",D2:"CH-OO-D2.mp3",D3:"CH-OO-D3.mp3",D4:"CH-OO-D4.mp3",E2:"CH-OO-E2.mp3",E3:"CH-OO-E3.mp3",E4:"CH-OO-E4.mp3",F2:"CH-OO-F2.mp3",F3:"CH-OO-F3.mp3",F4:"CH-OO-F4.mp3",G2:"CH-OO-G2.mp3",G3:"CH-OO-G3.mp3",G4:"CH-OO-G4.mp3"},choirU:{A2:"CH-UU-A2.mp3",A3:"CH-UU-A3.mp3",A4:"CH-UU-A4.mp3",B2:"CH-UU-B2.mp3",B3:"CH-UU-B3.mp3",B4:"CH-UU-B4.mp3",C2:"CH-UU-C2.mp3",C3:"CH-UU-C3.mp3",C4:"CH-UU-C4.mp3",C5:"CH-UU-C5.mp3",D2:"CH-UU-D2.mp3",D3:"CH-UU-D3.mp3",D4:"CH-UU-D4.mp3",E2:"CH-UU-E2.mp3",E3:"CH-UU-E3.mp3",E4:"CH-UU-E4.mp3",F2:"CH-UU-F2.mp3",F3:"CH-UU-F3.mp3",F4:"CH-UU-F4.mp3",G2:"CH-UU-G2.mp3",G3:"CH-UU-G3.mp3",G4:"CH-UU-G4.mp3"}};function y(e,t,n){return void 0===n&&(n=.5),{update:()=>{t!==e.length&&m(n)&&t++},getRandom:()=>u(e.slice(0,t)),getSlice:()=>e.slice(0,t),get:()=>e}}function h(e,t,n,a){return{update:function(){m(Math.abs(n))&&e+Math.sign(n)<t&&(e+=Math.sign(n)),m(Math.abs(a))&&t+Math.sign(a)>e&&(t+=Math.sign(a))},getRange:()=>[e,t],getRandom:()=>u(e,t),getRandInt:()=>i(e,t),getMin:()=>e,getMax:()=>t}}function g(e,t=.1,n=1,a=0,o=1,r=0,c=!1){function s(t){(e=t)<a&&(e=a),e>o&&(e=o)}return o<e&&(o=e),{update:function(){m(n)&&s(e+(m(.5+r/2)?t:-t))},set:s,get:()=>e,setMin:e=>{a=e},setMax:e=>{o=e}}}}();
//# sourceMappingURL=src_maps/doodoo.min.js.map
