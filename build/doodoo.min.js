function random(e,n){return n?Math.random()*(n-e)+e:"number"==typeof e?Math.random()*e:Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:"object"==typeof e?e[random(Object.keys(e))]:void 0}function randInt(e,n){return n||(n=e,e=0),Math.round(Math.random()*(n-e)+e)}function shuffle(e){let n,t,a=e.length;for(;0!==a;)t=Math.floor(Math.random()*a),a-=1,n=e[a],e[a]=e[t],e[t]=n;return e}function chance(e){return random(1)<e}function ValueRange(e,n,t,a){return{update:function(){chance(Math.abs(t))&&e<n&&(e+=Math.sign(t)),chance(Math.abs(a))&&(n+=Math.sign(a))},getRange:()=>[e,n],getRandom:()=>random(e,n),getRandInt:()=>randInt(e,n),getMin:()=>e,getMax:()=>n}}function ValueList(e,n,t){void 0===t&&(t=.5);let a=[...e];return{update:()=>{0!==n.length&&chance(t)&&a.push(n.pop())},add:e=>{a.push(e)},getRandom:()=>random(a)}}const MIDI_NOTES=["C_1","C#_1","D_1","D#_1","E_1","F_1","F#_1","G_1","G#_1","A_1","A#_1","B_1","C0","C#0","D0","D#0","E0","F0","F#0","G0","G#0","A0","A#0","B0","C1","C#1","D1","D#1","E1","F1","F#1","G1","G#1","A1","A#1","B1","C2","C#2","D2","D#2","E2","F2","F#2","G2","G#2","A2","A#2","B2","C3","C#3","D3","D#3","E3","F3","F#3","G3","G#3","A3","A#3","B3","C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A4","A#4","B4","C5","C#5","D5","D#5","E5","F5","F#5","G5","G#5","A5","A#5","B5","C6","C#6","D6","D#6","E6","F6","F#6","G6","G#6","A6","A#6","B6","C7","C#7","D7","D#7","E7","F7","F#7","G7","G#7","A7","A#7","B7","C8","C#8","D8","D#8","E8","F8","F#8","G8","G#8","A8","A#8","B8","C9","C#9","D9","D#9","E9","F9","F#9","G9"];function getMelody(e,n,t,a){return e.map((e=>{if(null===e[0])return e;{const[a,r]=e,o=MIDI_NOTES.indexOf(n)-MIDI_NOTES.indexOf(t),p=MIDI_NOTES.indexOf(a)-o;return[MIDI_NOTES[p],r]}}))}function getHarmony(e,n,t,a,r){return e.map((e=>{if(null===e[0])return e;{const[o,p]=e,l=MIDI_NOTES.indexOf(o),u=MIDI_NOTES.indexOf(n),s=u-MIDI_NOTES.indexOf(t),c=l-u,m=c<0?r.indexOf(12-Math.abs(c)%12):r.indexOf(c%12);let i=r[(m+a-1)%r.length];-1===m&&(i=0);let y=12*Math.floor(Math.abs(c)/12)*Math.sign(c),h=MIDI_NOTES.indexOf(n)+i+y-s;return[MIDI_NOTES[h],p]}}))}function Part(e,n,t,a){let r=0;const o=new ValueRange(...n.loopNums),p=new ValueList(n.harmonyStart,n.harmonyAdd,n.harmonyUpdateChance),l=new ValueRange(...n.startIndexes),u=new ValueRange(...n.indexStep),s=new ValueList(n.durationStart,n.durationAdd,n.durationsChance),c=new ValueList(n.startDelaysStart,n.startDelaysAdd,n.startDelaysChance),m={noteDuration:t,count:0,counter:1,doubler:!1,doublerCounter:!1,repeat:1,startIndex:0,startDelay:0,harmony:0,melody:e},i=n.startLoops.map((e=>e.map((e=>({...m,...e})))));return{update:function(){return function(){if(o.update(),p.update(),l.update(),u.update(),s.update(),c.update(),chance(n.sliceChance)){let t=randInt(e.length),a=e.slice(t,t+randInt(1,n.sliceLength));e.push(...a)}chance(n.shiftChance)&&e.length>n.shiftLength&&e.shift(),r++,a&&console.log(`${r} mutations`)}(),r},getLoops:function(){if(i[r])return i[r];const t=[],a=o.getRandInt();let m=l.getRandInt(),y=0;for(let r=0;r<a;r++){let a=s.getRandom();t.push({noteDuration:a,count:0,counter:a<4?a/4:1,doubler:a>4&&a<32&&chance(n.doublerChance),doublerCounter:a>4&&chance(n.doublerCounterChance),repeat:a>9?random(...n.repeat):1,startIndex:m,startDelay:y,melody:e,harmony:chance(n.harmonyChance)?p.getRandom():0}),m=Math.max(0,random([m,m+u.getMin(),m+u.getMax()])),y=c.getRandom()}return t},getTestLoops:function(){return[{noteDuration:4,count:0,counter:1,doubler:!1,doublerCounter:!1,repeat:1,startIndex:0,startDelay:0,melody:e,harmony:0},{noteDuration:4,count:0,counter:1,doubler:!1,doublerCounter:!1,repeat:1,startIndex:0,startDelay:0,melody:e,harmony:4}]}}}let SamplePaths={bamboo:{B3:"b3.ogg",G4:"g4.ogg"},flute:{C5:"C5.wav"},guitar:{C4:"C4.wav"},strings:{"A#2":"Ash2.ogg",A5:"A5.ogg",C4:"C4.ogg",C7:"C7.ogg","D#2":"Dsh2.ogg",D5:"D5.ogg",E3:"E3.ogg",E6:"E6.ogg",G4:"G4.ogg"},toms:{"A#3":"Tom606_EQ.ogg"},choirA:{A2:"CH-AA-A2.mp3",A3:"CH-AA-A3.mp3",A4:"CH-AA-A4.mp3",B2:"CH-AA-B2.mp3",B3:"CH-AA-B3.mp3",B4:"CH-AA-B4.mp3",C2:"CH-AA-C2.mp3",C3:"CH-AA-C3.mp3",C4:"CH-AA-C4.mp3",C5:"CH-AA-C5.mp3",D2:"CH-AA-D2.mp3",D3:"CH-AA-D3.mp3",D4:"CH-AA-D4.mp3",E2:"CH-AA-E2.mp3",E3:"CH-AA-E3.mp3",E4:"CH-AA-E4.mp3",F2:"CH-AA-F2.mp3",F3:"CH-AA-F3.mp3",F4:"CH-AA-F4.mp3",G2:"CH-AA-G2.mp3",G3:"CH-AA-G3.mp3",G4:"CH-AA-G4.mp3"},choirE:{A2:"CH-EE-A2.mp3",A3:"CH-EE-A3.mp3",A4:"CH-EE-A4.mp3",B2:"CH-EE-B2.mp3",B3:"CH-EE-B3.mp3",B4:"CH-EE-B4.mp3",C2:"CH-EE-C2.mp3",C3:"CH-EE-C3.mp3",C4:"CH-EE-C4.mp3",C5:"CH-EE-C5.mp3",D2:"CH-EE-D2.mp3",D3:"CH-EE-D3.mp3",D4:"CH-EE-D4.mp3",E2:"CH-EE-E2.mp3",E3:"CH-EE-E3.mp3",E4:"CH-EE-E4.mp3",F2:"CH-EE-F2.mp3",F3:"CH-EE-F3.mp3",F4:"CH-EE-F4.mp3",G2:"CH-EE-G2.mp3",G3:"CH-EE-G3.mp3",G4:"CH-EE-G4.mp3"},choirI:{A2:"CH-II-A2.mp3",A3:"CH-II-A3.mp3",A4:"CH-II-A4.mp3",B2:"CH-II-B2.mp3",B3:"CH-II-B3.mp3",B4:"CH-II-B4.mp3",C2:"CH-II-C2.mp3",C3:"CH-II-C3.mp3",C4:"CH-II-C4.mp3",C5:"CH-II-C5.mp3",D2:"CH-II-D2.mp3",D3:"CH-II-D3.mp3",D4:"CH-II-D4.mp3",E2:"CH-II-E2.mp3",E3:"CH-II-E3.mp3",E4:"CH-II-E4.mp3",F2:"CH-II-F2.mp3",F3:"CH-II-F3.mp3",F4:"CH-II-F4.mp3",G2:"CH-II-G2.mp3",G3:"CH-II-G3.mp3",G4:"CH-II-G4.mp3"},choirO:{A2:"CH-OO-A2.mp3",A3:"CH-OO-A3.mp3",A4:"CH-OO-A4.mp3",B2:"CH-OO-B2.mp3",B3:"CH-OO-B3.mp3",B4:"CH-OO-B4.mp3",C2:"CH-OO-C2.mp3",C3:"CH-OO-C3.mp3",C4:"CH-OO-C4.mp3",C5:"CH-OO-C5.mp3",D2:"CH-OO-D2.mp3",D3:"CH-OO-D3.mp3",D4:"CH-OO-D4.mp3",E2:"CH-OO-E2.mp3",E3:"CH-OO-E3.mp3",E4:"CH-OO-E4.mp3",F2:"CH-OO-F2.mp3",F3:"CH-OO-F3.mp3",F4:"CH-OO-F4.mp3",G2:"CH-OO-G2.mp3",G3:"CH-OO-G3.mp3",G4:"CH-OO-G4.mp3"},choirU:{A2:"CH-UU-A2.mp3",A3:"CH-UU-A3.mp3",A4:"CH-UU-A4.mp3",B2:"CH-UU-B2.mp3",B3:"CH-UU-B3.mp3",B4:"CH-UU-B4.mp3",C2:"CH-UU-C2.mp3",C3:"CH-UU-C3.mp3",C4:"CH-UU-C4.mp3",C5:"CH-UU-C5.mp3",D2:"CH-UU-D2.mp3",D3:"CH-UU-D3.mp3",D4:"CH-UU-D4.mp3",E2:"CH-UU-E2.mp3",E3:"CH-UU-E3.mp3",E4:"CH-UU-E4.mp3",F2:"CH-UU-F2.mp3",F3:"CH-UU-F3.mp3",F4:"CH-UU-F4.mp3",G2:"CH-UU-G2.mp3",G3:"CH-UU-G3.mp3",G4:"CH-UU-G4.mp3"}},controls=[{key:"attackStart",type:"range",value:[.25,.7],range:[0,1],step:.05,panel:"attack"},{key:"attackStep",type:"range",value:[-.2,.2],range:[-1,1],step:.05,panel:"attack"},{key:"restChance",type:"range",value:[0,0],range:[0,1],step:.01,panel:"attack"},{key:"loopNums",type:"range",value:[1,1,.1,.2],range:[1,32],step:1,panel:"loop"},{key:"harmonyChance",type:"chance",value:.6,panel:"harmony"},{key:"harmonyStart",type:"list",value:[4,5],panel:"harmony"},{key:"harmonyAdd",type:"list",value:[2,3,6,7],shuffle:!0,panel:"harmony"},{key:"harmonyUpdateChance",type:"chance",value:.2,panel:"harmony"},{key:"startIndexes",type:"range",value:[0,0,0,.3],range:[0,0],step:1,panel:"index"},{key:"indexStep",type:"range",value:[0,0,-.2,.2],range:[0,8,-1,1],step:1,panel:"index"},{key:"durationStart",type:"list",value:[2,4],panel:"loop"},{key:"durationAdd",type:"list",value:[1,8,16,32],shuffle:!0,panel:"loop"},{key:"durationChance",type:"chance",value:.3,panel:"loop"},{key:"startDelaysStart",type:"list",value:[0,1,2,4,.5,8],panel:"index"},{key:"startDelaysAdd",type:"list",value:[12,16,3,5,7,11],shuffle:!0,panel:"index"},{key:"startDelaysChance",type:"chance",value:.3,panel:"index"},{key:"sliceChance",type:"chance",value:.1,panel:"slice"},{key:"sliceLength",type:"number",value:3,range:[1,8],panel:"slice"},{key:"shiftChance",type:"chance",value:.2,panel:"slice"},{key:"shiftLength",type:"number",value:16,range:[0,32],panel:"slice"},{key:"doublerChance",type:"chance",value:.5,panel:"doubler"},{key:"doublerCounterChance",type:"chance",value:.4,panel:"doubler"},{key:"repeat",type:"list",value:[2,3,4],panel:"doubler"},{key:"startLoops",type:"loops",value:[[{}]],panel:"loops"},{key:"fxLimit",type:"number",value:1,range:[0,16],panel:"effects"},{key:"reverbChance",type:"chance",value:1,panel:"effects"},{key:"reverbDelay",type:"number",value:0,range:[0,16],panel:"effects"},{key:"reverbDecay",type:"number",value:5,range:[.5,32],step:.1,panel:"effects"},{key:"distortionChance",type:"chance",value:.25,panel:"distortion"},{key:"distortionDelay",type:"number",value:8,range:[0,16],panel:"distortion"},{key:"distortion",type:"range",value:[.05,.2],range:[.01,1],step:.01,panel:"distortion"},{key:"bitCrushChance",type:"chance",value:.25,panel:"distortion"},{key:"bitCrushDelay",type:"number",value:8,range:[0,16],panel:"distortion"},{key:"bitCrushBits",type:"list",value:[3,4,6,8,12,16],panel:"distortion"},{key:"autoFilterChance",type:"chance",value:.25,panel:"filter"},{key:"autoFilterDelay",type:"number",value:8,range:[0,16],panel:"filter"},{key:"autoFilterFrequency",type:"list",value:["2n","4n","8n","16n","32n"],panel:"filter"},{key:"autoPannerChance",type:"chance",value:.25,panel:"filter"},{key:"autoPannerDelay",type:"number",value:8,range:[0,16],panel:"filter"},{key:"autoPannerFrequency",type:"list",value:["2n","4n","8n","16n","32n"],panel:"filter"},{key:"chebyChance",type:"chance",value:.25,panel:"filter"},{key:"chebyDelay",type:"number",value:8,range:[0,16],panel:"filter"},{key:"chebyOrder",type:"number",value:16,range:[1,100],panel:"filter"},{key:"chorusChance",type:"chance",value:.25,panel:"chorus"},{key:"chorusDelay",type:"number",value:8,range:[0,16],panel:"chorus"},{key:"chorusFrequency",type:"number",value:4,range:[1,12],panel:"chorus"},{key:"chorusDelayTime",type:"number",value:2.5,range:[.1,12],step:.1,panel:"chorus"},{key:"chorusDepth",type:"number",value:.5,range:[0,1],panel:"chorus"},{key:"feedbackChance",type:"chance",value:.25,panel:"delay"},{key:"feedbackDelay",type:"number",value:8,range:[0,16],panel:"delay"},{key:"feedbackDelayTime",type:"list",value:["8n","4n","16n","32n"],panel:"delay"},{key:"feedback",type:"number",value:.25,range:[.1,1],step:.01,panel:"delay"},{key:"phaserChance",type:"chance",value:.25,panel:"phaser"},{key:"phaserDelay",type:"number",value:8,range:[0,16],panel:"phaser"},{key:"phaserFrequency",type:"number",value:15,range:[0,32],panel:"phaser"},{key:"phaserOctaves",type:"number",value:5,range:[1,16],panel:"phaser"},{key:"phaserBaseFrequency",type:"number",value:1e3,range:[1,1e4],panel:"phaser"},{key:"pingPongChance",type:"chance",value:.25,panel:"delay"},{key:"pingPongDelay",type:"number",value:8,range:[0,16],panel:"delay"},{key:"pingPongDelayTime",type:"list",value:["1n","2n","4n","8n","16n","32n","2t","4t","8t","16t","32t"],panel:"delay"},{key:"pingPongFeedback",type:"number",value:.25,range:[0,1],step:.01,panel:"delay"},{key:"tremoloChance",type:"chance",value:.25,panel:"tremolo"},{key:"tremoloDelay",type:"number",value:8,range:[0,16],panel:"tremolo"},{key:"tremoloFrequency",type:"range",value:[9,9],range:[1,18],step:1,panel:"tremolo"},{key:"tremoloDepth",type:"range",value:[.1,.5],range:[0,1],step:.05,panel:"tremolo"},{key:"vibratoChance",type:"chance",value:.25,panel:"vibrato"},{key:"vibratoDelay",type:"number",value:8,range:[0,16],panel:"vibrato"},{key:"vibratoFrequency",type:"range",value:[9,9],range:[1,18],step:1,panel:"vibrato"},{key:"vibratoDepth",type:"range",value:[.1,.5],range:[0,1],step:.05,panel:"vibrato"}],defaults={};function Effects(e){const n={distortion:()=>{const n=random(...e.distortion);return new Tone.Distortion(n)},bitCrush:()=>{const n=random(e.bitCrushBits);return new Tone.BitCrusher(n)},autoFilter:()=>{const n=random(e.autoFilterFrequency);return new Tone.AutoFilter(n).start()},autoPanner:()=>{const n=random(e.autoPannerFrequency);return new Tone.AutoPanner(n).start()},cheby:()=>{const n=randInt(e.chebyOrder);return new Tone.Chebyshev(n)},chorus:()=>{const n=randInt(e.chorusFrequency),t=random(e.chorusDelayTime),a=random(e.chorusDepth);return new Tone.Chorus(n,t,a).start()},feedback:()=>{const n=random(e.feedback),t=random(e.feedbackDelayTime);return new Tone.FeedbackDelay(t,n)},phaser:()=>{const n=randInt(e.phaserFrequency),t=randInt(e.phaserOctaves),a=randInt(e.phaserBaseFrequency);return new Tone.Phaser(n,t,a)},tremolo:()=>{const n=randInt(...e.tremoloFrequency),t=random(...e.tremoloDepth);return new Tone.Tremolo(n,t).start()},pingPong:()=>{const n=random(e.pingPongDelayTime),t=random(e.pingPongFeedback);return new Tone.PingPongDelay(n,t)},vibrato:()=>{const n=randInt(...e.vibratoFrequency),t=random(e.vibratoDepth);return new Tone.Vibrato(n,t)}};function t(n,t){return chance(e[n+"Chance"])&&t>=e[n+"Delay"]}return{get:function(a){let r=[];if(t("reverb",a)){const n=new Tone.Reverb({decay:e.reverbDecay});r.push(n)}const o=shuffle(Object.keys(n).filter((e=>t(e,a)))).slice(0,e.fxLimit).map((e=>n[e]()));return[...r,...o]}}}function Doodoo(e,n){let t,a,r,o=e.debug,p=!1,l=e.duration||"4n",u=e.scale||[0,2,4,5,7,9,11],s=e.voices||[e.samples],c=e.withRecording;c&&(a=new Tone.Recorder,r=+prompt("Record number of mutations?",10));let m="string"==typeof e.tonic?e.tonic:MIDI_NOTES[e.tonic];e.transform||(e.transform=e.tonic);let i="string"==typeof e.transform?e.transform:MIDI_NOTES[e.transform],y={...defaults,...e.controls},h=new Effects(y),C=[];if("string"==typeof e.parts[0]){const n=e.parts.map((e=>[e,l]));C.push(new Part(n,y,l,o))}else if("number"==typeof e.parts[0]){const n=e.parts.map((e=>[MIDI_NOTES[e],l]));C.push(new Part(n,y,l,o))}else if(Array.isArray(e.parts[0]))if(Array.isArray(e.parts[0][0]))for(let n=0;n<e.parts.length;n++){const t=e.parts[n];C.push(new Part(t,y,l,o));const a=e.parts[n].map((e=>parseInt(e[1])));l=Math.max(...a)+"n"}else{const n=e.parts;C.push(new Part(n,y,l,o));const t=e.parts.map((e=>parseInt(e[1])));l=Math.max(...t)+"n"}let d=0,f=0,g=e.simultaneous||!1;const D=new ValueRange(...y.attackStart),E=new ValueRange(...y.attackStep),A=new ValueRange(...y.restChance);let H,v=[],b=0,I=0;const k=e.useMetro;let O;async function T(){try{await Tone.start(),s.filter((e=>!e.includes("Synth"))).length>0?function(e){let n=function(){let e={};return s.forEach((n=>{if("choir"===n)"AEIOU".split("").forEach((t=>{const a=SamplePaths["choir"+t];for(const r in a)e[`${n}-${t}-${r}`]=`${n}/${t}/${a[r]}`}));else for(const t in SamplePaths[n])e[`${n}-${t}`]=`${n}/${SamplePaths[n][t]}`})),e}();console.time(`load ${s.join(", ")}`),t=new Tone.ToneAudioBuffers({urls:n,baseUrl:"../samples/",onload:()=>{console.timeEnd(`load ${s.join(", ")}`),e&&e()}})}(F):F()}catch(e){console.error("load tone error",e)}}function F(){n&&n(),H=new Tone.Loop(M,l),Tone.Transport.start(),e.bpm&&(Tone.Transport.bpm.value=e.bpm),H.start(Tone.Transport.seconds),G(),k&&(O=new Tone.MetalSynth({volume:-12,frequency:250,envelope:{attack:.01,decay:.01,release:.2},harmonicity:3.1,modulationIndex:32,resonance:4e3,octaves:1.5}).toDestination()),p=!0,c&&a.start()}function G(){I=0,v=[];let n=g?C:[C[d]];n.forEach((e=>{e.getLoops().forEach((e=>{const n={...e,melody:0===e.harmony?getMelody(e.melody,m,i):getHarmony(e.melody,m,i,e.harmony,u),voice:U(random(s))};v.push(n)}))})),v.forEach((e=>{let n=[];e.melody.forEach((e=>{const[t,a]=e;let r=+l[0]/+a[0];a.includes(".")&&(r*=1.5),n.push(e);for(let e=1;e<r;e++)n.push([null,l])})),e.melody=n,e.countNum=e.doubler?e.counter*e.noteDuration/4:1,e.countEnd=(e.melody.length-1)*e.repeat+e.startDelay,e.len=e.melody.length})),b=Math.max(0,Math.max(...v.map((e=>e.melody.length))));let t=n.map((e=>e.update()))[0];e.onMutate&&e.onMutate(t),g||(d++,d>=C.length&&(d=0)),f++,"stopped"===Tone.Transport.state&&Tone.Transport.start(),t>r&&(Tone.Transport.stop(),p=!1,B())}function M(e){k&&O.triggerAttackRelease("c4","4n",e,.1);let n=D.getRandom();for(let t=0;t<v.length;t++){const a=v[t];if(!(a.count>a.countEnd)){for(let t=0;t<a.countNum;t++){if(a.count<a.startDelay)continue;if(a.count%1!=0&&!a.doubler)continue;if(chance(A.getRandom()))continue;const r=a.melody[Math.floor(a.count-a.startDelay+a.startIndex)%a.len];if(null!==r[0]){const[o,p]=r;let l=t?Tone.Time(`${a.noteDuration}n`).toSeconds()*t:0;a.voice.triggerAttackRelease(o,p,e+l,n)}a.doublerCounter&&(a.count+=a.counter)}(!a.doublerCounter||a.count<a.startDelay)&&(a.count+=a.counter)}}n+=E.getRandom(),n.clamp(.1,1),I++,I===b&&G()}function U(n){return n.includes("Synth")?function(){const n=new Tone.FMSynth({volume:e.volume||0});c?n.chain(Tone.Destination,a):n.toDestination();return h.get(f).forEach((e=>{c?e.chain(Tone.Destination,a):e.toDestination(),n.connect(e)})),n}():function(n){const r=function(e){const n={};if("choir"===e){const a=f<3?"U":random("AEIOU".split(""));for(const r in SamplePaths[e+a])n[r]=t.get(`${e}-${a}-${r}`)}else for(const a in SamplePaths[e])n[a]=t.get(`${e}-${a}`);return n}(n),o=new Tone.Sampler({urls:r,volume:e.volume||0,release:1});c?o.chain(Tone.Destination,a):o.toDestination();return h.get(f).forEach((e=>{c?e.chain(Tone.Destination,a):e.toDestination(),o.connect(e)})),o}(n)}async function B(){const e=await a.stop(),n=URL.createObjectURL(e),t=document.createElement("a"),r=prompt("Name clip","Doodoo_"+(new Date).toDateString().replace(/ /g,"-"));t.download=r+".webm",t.href=n,t.click()}return e.lazyLoad||T(),{play:function(){if(e.lazyLoad)return T();"started"===Tone.Transport.state&&Tone.Transport.stop(),"stopped"===Tone.Transport.state&&G(),p=!0,c&&a.start()},stop:function(){Tone.Transport.stop(),p=!1,c&&"started"===a.state&&B()},mutate:function(){C.forEach((e=>{e.update()}))},moveTonic:function(e){let n=MIDI_NOTES.indexOf(i)+e;i=MIDI_NOTES[n]},setTonic:function(e){i=e},moveBPM:function(e){let n=Tone.Transport.bpm.value;Tone.Transport.bpm.value=n+e},setBPM:function(e){Tone.Transport.bpm.value=e},getIsPlaying:function(){return p},isRecording:function(){return!!a&&("started"===a.state||"paused"===a.state)},printLoops:function(){console.log("loops",v)},getLoops:function(){return v}}}controls.forEach((e=>{const{key:n,value:t,type:a}=e;switch(a){case"range":case"chance":case"number":case"loops":defaults[n]=t;break;case"list":defaults[n]=e.shuffle?shuffle(t):t}})),Number.prototype.clamp=function(e,n){return Math.min(Math.max(this,e),n)};export{Doodoo,MIDI_NOTES,controls,defaults};
//# sourceMappingURL=src_maps/doodoo.min.js.map
